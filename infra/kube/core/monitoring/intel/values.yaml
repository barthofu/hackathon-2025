intel-device-plugins-gpu:
 sharedDevNum: 2 # Must be increased if the iGPU is needed by more than one pod  

# intel-gpu-exporter:
#   defaultPodOptions:
#     securityContext:
#       fsGroup: 1000
#       fsGroupChangePolicy: "OnRootMismatch"
#     nodeSelector:
#       intel.feature.node.kubernetes.io/gpu: "true"
#     tolerations:
#       - key: "master"
#         operator: "Exists"
#         effect: "NoExecute"

#   controllers:
#     main:
#       containers:
#         main:
#           image:
#             repository: ghcr.io/onedr0p/intel-gpu-exporter
#             tag: rolling@sha256:54cd0f76060c182a5d7d7c7c3a8a71b7e189d04be61729c53bc071a707c7a3c6
#           env:
#             PUID: 1000
#             PGID: 1000
#             TZ: Europe/Paris
#           securityContext:
#             runAsUser: 0
#             runAsGroup: 0
#             privileged: true
#           resources:
#             requests:
#               cpu: 100m
#               memory: 100Mi
#               gpu.intel.com/i915: 1
#             limits:
#               memory: 500Mi
#               gpu.intel.com/i915: 1

#   service:
#     main:
#       controller: main
#       type: ClusterIP
#       ports:
#         http:
#           port: 8080

  # ingress:
  #   main:
  #     enabled: true
  #     annotations:
  #       kubernetes.io/ingress.class: traefik
  #       cert-manager.io/cluster-issuer: letsencrypt-issuer
  #     hosts:
  #       - host: &host "intel-exporter.home.bartho.dev"
  #         paths:
  #           - path: /
  #             pathType: Prefix
  #             service:
  #               identifier: main
  #               port: http
  #     tls:
  #       - secretName: intel-exporter-tls
  #         hosts:
  #           - *host
